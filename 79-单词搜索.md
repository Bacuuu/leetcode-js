## é¢˜ç›®æè¿°

> [å•è¯æœç´¢](https://leetcode-cn.com/problems/word-search/)
>
>é¢˜ç›®ç®€è¿°
>
> ç»™å®šä¸€ä¸ªÂ m x n äºŒç»´å­—ç¬¦ç½‘æ ¼Â board å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯Â word ã€‚å¦‚æœÂ word å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
> 
> å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚
>
> ä¾‹å¦‚ï¼š
>board = [
>
> ["A","B","C","E"],
>
> ["S","F","C","S"],
>
> ["A","D","E","E"]
>
>], word = "ABCCED"
>
>è¾“å‡ºä¸ºtrue


## åˆ†ç±»
`ä¸­ç­‰` `å›æº¯`

## æ€è·¯
#### å›æº¯ï¼ˆç±»ä¼¼nçš‡åæ€è·¯ï¼‰

```javascript
/**
 * @param {character[][]} board
 * @param {string} word
 * @return {boolean}
 */
var exist = function(board, word) {
  const arr = new Array(word.length).fill(null).map(() => [])
  board.forEach((row, rowIndex) => {
    row.forEach((point, columnIndex) => {
      const _point = {
        name: point,
        position: [rowIndex, columnIndex],
        wasted: false
      }
      // æ‰€æœ‰çš„ä½ç½®
      let index = word.indexOf(point)
      // æ˜¯å­˜åœ¨äºwordä¸­çš„
      while (index !== -1) {
        arr[index].push(_point)
        index = word.indexOf(point, index + 1)
      }
    })
  })
  // å¦‚æœarrä¸­æœ‰ç©ºï¼Œåˆ™è¯´æ˜ç¼ºå¤±æŸä¸ªå­—æ¯
  if(arr.some(i => !i.length)) {
    return false
  }
  return existWorld(0)
  /**
   * å¯¹arråšé€’å½’
   * @param {Number} index ç¬¬å‡ ä¸ªå­—æ¯ 
   * @param {Array} position 
   */
  function existWorld (index, position) {
    if (index === arr.length) {
      return true
    }
    // ä½ç½®æ ¡éªŒï¼Œå¯¹arr[index]ä¸­çš„æ¯ä¸€ä¸ªè¿›è¡Œæ ¡éªŒ
    for (let i = 0; i < arr[index].length; i++) {
      // å¯¹æ¯” arr[index][i].position position è€Œä¸”ä¸èƒ½æ˜¯wasted
      // ç¬¬0ä¸ªåˆ™ä¸è¿›è¡Œä½ç½®çš„æ ¡éªŒ
      if (index === 0 || !arr[index][i].wasted && judgePosition(arr[index][i].position, position)) {
        arr[index][i].wasted = true
        if (existWorld(index + 1, arr[index][i].position)) {
          return true
        }
        arr[index][i].wasted = false
      }
    }
    return false
    // arr[index]
  }

  /**
   * åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦å±äºä¸Šä¸‹|å·¦å³å…³ç³»ï¼Œ|x1-x2| + |y1-y2| === 1
   * @param {*} p1 
   * @param {*} p2 
   */
  function judgePosition (p1, p2) {
    return Math.abs(p1[0]-p2[0]) + Math.abs(p1[1]-p2[1]) === 1
  }
};
```
- é—®é¢˜æ‹†è§£
  - é¦–å…ˆç”Ÿæˆä¸€ä¸ªæ•°ç»„`arr`ï¼Œæ•°ç»„æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…¶ä¸­çš„`arr[index]`å‚¨å­˜çš„æ˜¯`word`å­—ç¬¦ä¸²çš„ç¬¬indexä¸ªå­—ç¬¦åœ¨ç½‘æ ¼ä¸­çš„æ‰€æœ‰ä½“ç°ã€‚ä¾‹å¦‚`word`æ˜¯`'arhcccd'`ï¼Œé‚£ä¹ˆ`arr[0]`å°±æ˜¯å‚¨å­˜çš„æ•´ä¸ªç½‘æ ¼ä¸­çš„å­—æ¯açš„ä¿¡æ¯ï¼Œå…·ä½“ä¿¡æ¯è¢«ç¼–ç å¦‚ä¸‹
    - æ¯ä¸ªç½‘æ ¼æœ‰ä»¥ä¸‹å‡ ä¸ªå±æ€§
      - `name` è¯¥ç½‘æ ¼çš„å­—æ¯
      - `position` ç½‘æ ¼åæ ‡
      - `wasted` æ˜¯å¦å·²ç»ä½¿ç”¨
  - é€šè¿‡å¯¹`arr`æ•°ç»„ä¸­å…ƒç´ è¿›è¡Œéå†ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ åï¼Œå› ä¸ºè¯¥å…ƒç´ è¢«ä½¿ç”¨ï¼Œå°†è¯¥å…ƒç´ çš„`wasted`ç½®ä¸ºtrueã€‚å†ç»§ç»­è¿›è¡Œ`arr`çš„ä¸‹ä¸€æ¬¡éå†ï¼Œå¦‚æœæŸä¸ªç½‘æ ¼å…ƒç´ `wasted === false`ï¼Œè€Œä¸”å’Œå½“å‰å…ƒç´ å¤„äºç›¸é‚»çŠ¶æ€ï¼Œå³å¯è¡Œï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡åˆ¤æ–­ã€‚æœ€ç»ˆåªè¦èƒ½å¤Ÿè¿›è¡Œåˆ°`arr`çš„æœ€åä¸€ä¸ªå…ƒç´ å®Œæˆï¼Œå°±è¯´æ˜èƒ½å¤Ÿæ‰¾åˆ°ã€‚å› ä¸ºæœ‰å¯èƒ½æŸæ¬¡çš„éå†åˆ°æœ€åä¸èƒ½æ»¡è¶³ï¼Œå°±éœ€è¦å›æº¯åï¼ˆå°†`wasted`ç½®å›falseå³å¯ï¼‰ï¼Œå°è¯•å¦ä¸€ä¸ªç›¸åŒçš„å­—ç¬¦ã€‚
    - ä¾‹å¦‚`arr = [[a, a], [b], [c, c]]`ï¼Œåœ¨`arr[0][0]`çš„å­—ç¬¦aå‘åå°è¯•åï¼Œæ— æ³•æ‰¾åˆ°ç»“æœï¼Œéœ€è¦è°ƒç”¨`arr[0][1]`å°è¯•ã€‚
  - åˆ¤æ–­ä¸¤ä¸ªä½ç½®çš„ç½‘æ ¼æ˜¯å¦å…·æœ‰ç›¸é‚»å…³ç³»
    - å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œä¸¤ä¸ªç‚¹ä½è¦ä¹ˆxç›¸å·®1ï¼Œè¦ä¹ˆyç›¸å·®1ï¼Œæ‰€ä»¥`Math.abs(p1[0]-p2[0]) + Math.abs(p1[1]-p2[1]) === 1`å³å¯

- ä¸€äº›æƒ³æ³•
  - å†™è¿™ä¸ªæ–‡æ¡£çš„æ—¶å€™ç¦»åšé¢˜è¿‡äº†ä¸€å‘¨,<s>æƒ³æ³•æœ‰äº›è·Ÿä¸ä¸Šäº†</s>ï¼Œåœ¨ä»£ç çš„è¿™é‡Œ
    ```javascript
    board.forEach((row, rowIndex) => {
      row.forEach((point, columnIndex) => {
        const _point = {
          name: point,
          position: [rowIndex, columnIndex],
          wasted: false
        }
        // æ‰€æœ‰çš„ä½ç½®
        let index = word.indexOf(point)
        // æ˜¯å­˜åœ¨äºwordä¸­çš„
        while (index !== -1) {
          arr[index].push(_point)
          index = word.indexOf(point, index + 1)
        }
      })
    })
    ```
    æˆ‘è¿˜åœ¨æƒ³æ˜¯ä¸æ˜¯èƒ½å¤ŸæŠŠ`_point`çš„å®šä¹‰æ”¾åˆ°`while(index !== -1)`é‡Œå»ï¼Œè¿™æ ·å°±åªæœ‰åœ¨éœ€è¦çš„æ—¶å€™æ‰å›å»å®šä¹‰ï¼Œåº”è¯¥æ˜¯å¾ˆå¥½çš„ä¼˜åŒ–ğŸ¤”ï½
    
    ç„¶åæˆ‘ä¿®æ”¹äº†æäº¤ä»£ç ï¼Œå¥½å®¶ä¼™ï¼Œä¸é€šè¿‡äº†ã€‚<s>è¿™ä¸æ˜¯ä¸€æ ·çš„ä»£ç å—ï¼Ÿï¼Ÿï¼Ÿ</s>æ€ç´¢ä¸€ä¼šæ‰æƒ³èµ·æ¥æˆ‘è¿™é‡Œè¿™ä¹ˆå†™æ˜¯åˆ»æ„çš„ï¼Œè¯•æƒ³ä¸€ç§æƒ…å†µ`word='aab'`ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„arrå°±æ˜¯`[[a, a], [a, a], [b]]`ï¼Œ`arr[0]`å’Œ`arr[1]`ä¸­çš„å­—ç¬¦åº”è¯¥ä¿æŒä¸€æ ·çš„çŠ¶æ€ï¼Œå¦åˆ™æˆ‘ä½¿ç”¨äº†`arr[0][1]`çš„aåï¼Œ`arr[1][1]`çš„açš„`wasted`å­—æ®µè¿˜æ˜¯falseï¼Œä»ç„¶ä¼šè¢«å½“ä½œèƒ½å¤Ÿä½¿ç”¨ã€‚æ‰€ä»¥æˆ‘è¿™é‡ŒæŠŠ`_point`å†™åˆ°å¤–é¢æ˜¯ä¸ºäº†å…±ç”¨ä¸€ä¸ªåœ°å€ï¼Œä¸€æ¬¡ä½¿ç”¨ï¼Œå¤§å®¶æ›´æ–°ã€‚